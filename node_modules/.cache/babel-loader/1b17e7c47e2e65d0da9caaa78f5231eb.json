{"ast":null,"code":"var _jsxFileName = \"/home/vr55/Documents/rendutp3/src/views/Tp2/Form.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\n/**\n * Créer un formulaire de création de compte utilisateur.\n *\n * Gestion 100% en React.\n *\n * - Nom (required)\n * - Prénom (required)\n * - Email (required)\n * - Mot de passe (required)\n * - Compétences (multi-select/tags) (ex: PHP, JS, React, ...)\n * - RGPD (checkbox/required)\n * - Bouton de soumission (uniquement si tous les champs sont valides)\n *\n * A la soumission du formulaire, compiler les champs dans un objet et l'afficher.\n * + un message de succès.\n *\n * Bonus: possibilité de pré-remplir les champs avec des données utilisateur\n */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UserForm(_ref) {\n  _s();\n\n  let {\n    user = {\n      firstname: \"\",\n      lastname: \"\",\n      email: \"\",\n      password: \"\",\n      skills: [],\n      rgpd: false\n    }\n  } = _ref;\n  const [firstname, setFirstname] = useState(user.firstname);\n  const [lastname, setLastname] = useState(user.lastname);\n  const [email, setEmail] = useState(user.email);\n  const [password, setPassword] = useState(user.password);\n  const [skills, setSkills] = useState(user.skills);\n  const [rgpd, setRgpd] = useState(user.rgpd);\n  const [valid, setValid] = useState(false);\n  const [date, setDate] = useState(new Date());\n  useEffect(() => {\n    // componentDidUpdate\n    setValid(firstname.length > 0 && lastname.length > 0 && email.length > 0 && password.length > 0 && rgpd);\n    console.log(\"componentDidUpdate\");\n    return () => {\n      // componentWillUpdate\n      console.log(\"componentWillUpdate\");\n    };\n  }, [firstname, lastname, email, password, rgpd]);\n  useEffect(() => {\n    //componentDidMount\n    console.log(\"componentDidMount\");\n    const i = setInterval(() => {\n      setDate(new Date());\n      console.log(new Date());\n    }, 1000);\n    return () => {\n      //componentWillUnmount\n      console.log(\"componentWillUnmount\");\n      clearInterval(i);\n    };\n  }, []);\n\n  function handleChange(e) {\n    const tagName = e.target.tagName;\n    const name = e.target.name;\n    let value;\n\n    if (tagName === \"INPUT\") {\n      const type = e.target.type;\n\n      if (type === \"checkbox\") {\n        value = e.target.checked;\n      } else {\n        value = e.target.value;\n      }\n    } else if (tagName === \"SELECT\") {\n      value = Array.from(e.target.options).filter(option => option.selected).map(option => option.value);\n    }\n\n    switch (name) {\n      case \"firstname\":\n        setFirstname(value);\n        break;\n\n      case \"lastname\":\n        setLastname(value);\n        break;\n\n      case \"email\":\n        setEmail(value);\n        break;\n\n      case \"password\":\n        setPassword(value);\n        break;\n\n      case \"skills\":\n        setSkills(value);\n        break;\n\n      case \"aggreement\":\n        setRgpd(value);\n        break;\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    autoComplete: \"off\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: date.toISOString()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      value: lastname,\n      name: \"lastname\",\n      type: \"text\",\n      required: true,\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      value: firstname,\n      name: \"firstname\",\n      type: \"text\",\n      required: true,\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"email\",\n      type: \"email\",\n      required: true,\n      value: email,\n      onChange: handleChange,\n      autoComplete: \"off\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"password\",\n      type: \"password\",\n      required: true,\n      value: password,\n      onChange: handleChange,\n      autoComplete: \"off\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      multiple: true,\n      name: \"skills\",\n      onChange: handleChange,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"php\",\n        children: \"PHP\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"js\",\n        children: \"JS\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"react\",\n        children: \"React\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"aggreement\",\n      type: \"checkbox\",\n      required: true,\n      value: rgpd,\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      disabled: !valid,\n      type: \"submit\",\n      value: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n}\n\n_s(UserForm, \"HgANRbjjKxYMkteCdjtfa1vrFWE=\");\n\n_c = UserForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserForm\");","map":{"version":3,"names":["useEffect","useState","UserForm","user","firstname","lastname","email","password","skills","rgpd","setFirstname","setLastname","setEmail","setPassword","setSkills","setRgpd","valid","setValid","date","setDate","Date","length","console","log","i","setInterval","clearInterval","handleChange","e","tagName","target","name","value","type","checked","Array","from","options","filter","option","selected","map","toISOString"],"sources":["/home/vr55/Documents/rendutp3/src/views/Tp2/Form.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\n/**\n * Créer un formulaire de création de compte utilisateur.\n *\n * Gestion 100% en React.\n *\n * - Nom (required)\n * - Prénom (required)\n * - Email (required)\n * - Mot de passe (required)\n * - Compétences (multi-select/tags) (ex: PHP, JS, React, ...)\n * - RGPD (checkbox/required)\n * - Bouton de soumission (uniquement si tous les champs sont valides)\n *\n * A la soumission du formulaire, compiler les champs dans un objet et l'afficher.\n * + un message de succès.\n *\n * Bonus: possibilité de pré-remplir les champs avec des données utilisateur\n */\nexport default function UserForm({\n  user = {\n    firstname: \"\",\n    lastname: \"\",\n    email: \"\",\n    password: \"\",\n    skills: [],\n    rgpd: false,\n  },\n}) {\n  const [firstname, setFirstname] = useState(user.firstname);\n  const [lastname, setLastname] = useState(user.lastname);\n  const [email, setEmail] = useState(user.email);\n  const [password, setPassword] = useState(user.password);\n  const [skills, setSkills] = useState(user.skills);\n  const [rgpd, setRgpd] = useState(user.rgpd);\n  const [valid, setValid] = useState(false);\n  const [date, setDate] = useState(new Date());\n\n  useEffect(() => {\n    // componentDidUpdate\n    setValid(\n      firstname.length > 0 &&\n        lastname.length > 0 &&\n        email.length > 0 &&\n        password.length > 0 &&\n        rgpd\n    );\n    console.log(\"componentDidUpdate\");\n    return () => {\n      // componentWillUpdate\n      console.log(\"componentWillUpdate\");\n    };\n  }, [firstname, lastname, email, password, rgpd]);\n  useEffect(() => {\n    //componentDidMount\n    console.log(\"componentDidMount\");\n    const i = setInterval(() => {\n      setDate(new Date());\n      console.log(new Date());\n    }, 1000);\n    return () => {\n      //componentWillUnmount\n      console.log(\"componentWillUnmount\");\n      clearInterval(i);\n    };\n  }, []);\n\n  function handleChange(e) {\n    const tagName = e.target.tagName;\n    const name = e.target.name;\n    let value;\n    if (tagName === \"INPUT\") {\n      const type = e.target.type;\n      if (type === \"checkbox\") {\n        value = e.target.checked;\n      } else {\n        value = e.target.value;\n      }\n    } else if (tagName === \"SELECT\") {\n      value = Array.from(e.target.options)\n        .filter((option) => option.selected)\n        .map((option) => option.value);\n    }\n    switch (name) {\n      case \"firstname\":\n        setFirstname(value);\n        break;\n      case \"lastname\":\n        setLastname(value);\n        break;\n      case \"email\":\n        setEmail(value);\n        break;\n      case \"password\":\n        setPassword(value);\n        break;\n      case \"skills\":\n        setSkills(value);\n        break;\n      case \"aggreement\":\n        setRgpd(value);\n        break;\n    }\n  }\n\n  return (\n    <form autoComplete=\"off\">\n      <div>{date.toISOString()}</div>\n      <input\n        value={lastname}\n        name=\"lastname\"\n        type=\"text\"\n        required\n        onChange={handleChange}\n      />\n      <input\n        value={firstname}\n        name=\"firstname\"\n        type=\"text\"\n        required\n        onChange={handleChange}\n      />\n      <input\n        name=\"email\"\n        type=\"email\"\n        required\n        value={email}\n        onChange={handleChange}\n        autoComplete=\"off\"\n      />\n      <input\n        name=\"password\"\n        type=\"password\"\n        required\n        value={password}\n        onChange={handleChange}\n        autoComplete=\"off\"\n      />\n      <select multiple name=\"skills\" onChange={handleChange}>\n        <option value=\"php\">PHP</option>\n        <option value=\"js\">JS</option>\n        <option value=\"react\">React</option>\n      </select>\n      <input\n        name=\"aggreement\"\n        type=\"checkbox\"\n        required\n        value={rgpd}\n        onChange={handleChange}\n      />\n      <input disabled={!valid} type=\"submit\" value=\"Submit\" />\n    </form>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}