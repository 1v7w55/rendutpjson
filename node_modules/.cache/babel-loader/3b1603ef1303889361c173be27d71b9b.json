{"ast":null,"code":"import _toConsumableArray from\"/home/vr55/Documents/rendutp3/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/vr55/Documents/rendutp3/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ListContainer(_ref){var _ref$initialItems=_ref.initialItems,initialItems=_ref$initialItems===void 0?[]:_ref$initialItems,_ref$availableActions=_ref.availableActions,availableActions=_ref$availableActions===void 0?{add:true,remove:true,edit:true}:_ref$availableActions,ListItem=_ref.ListItem,AddForm=_ref.AddForm,_ref$keyProp=_ref.keyProp,keyProp=_ref$keyProp===void 0?\"id\":_ref$keyProp;var _useState=useState(initialItems),_useState2=_slicedToArray(_useState,2),items=_useState2[0],setItems=_useState2[1];var listeners={};if(availableActions.add){listeners.add=function(newItem){setItems([].concat(_toConsumableArray(items),[newItem]));};}if(availableActions.remove){listeners.remove=function(){var _this=this;setItems(items.filter(function(item){return item[keyProp]!==_this[keyProp];}));};}if(availableActions.edit){listeners.edit=function(editedItem){setItems(items.map(function(item){if(item[keyProp]===editedItem[keyProp]){return editedItem;}return item;}));};}useEffect(function(){setItems(initialItems);},[initialItems]);return/*#__PURE__*/_jsxs(_Fragment,{children:[availableActions.add&&/*#__PURE__*/_jsx(AddForm,{onSubmit:listeners.add}),items.map(function(item){var _listeners$edit,_listeners$remove;return console.log(item,item[keyProp])||/*#__PURE__*/_jsx(ListItem,{item:item,onEdit:(_listeners$edit=listeners.edit)===null||_listeners$edit===void 0?void 0:_listeners$edit.bind(item),onRemove:(_listeners$remove=listeners.remove)===null||_listeners$remove===void 0?void 0:_listeners$remove.bind(item)},item[keyProp]);})]});}","map":{"version":3,"names":["useEffect","useState","ListContainer","initialItems","availableActions","add","remove","edit","ListItem","AddForm","keyProp","items","setItems","listeners","newItem","filter","item","editedItem","map","console","log","bind"],"sources":["/home/vr55/Documents/rendutp3/src/components/ListContainer.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\nexport default function ListContainer({\n  initialItems = [],\n  availableActions = {\n    add: true,\n    remove: true,\n    edit: true,\n  },\n  ListItem,\n  AddForm,\n  keyProp = \"id\",\n}) {\n  const [items, setItems] = useState(initialItems);\n  const listeners = {};\n  if (availableActions.add) {\n    listeners.add = function (newItem) {\n      setItems([...items, newItem]);\n    };\n  }\n  if (availableActions.remove) {\n    listeners.remove = function () {\n      setItems(items.filter((item) => item[keyProp] !== this[keyProp]));\n    };\n  }\n\n  if (availableActions.edit) {\n    listeners.edit = function (editedItem) {\n      setItems(\n        items.map((item) => {\n          if (item[keyProp] === editedItem[keyProp]) {\n            return editedItem;\n          }\n          return item;\n        })\n      );\n    };\n  }\n  useEffect(() => {\n    setItems(initialItems);\n  }, [initialItems]);\n\n  return (\n    <>\n      {availableActions.add && <AddForm onSubmit={listeners.add} />}\n      {items.map(\n        (item) =>\n          console.log(item, item[keyProp]) || (\n            <ListItem\n              key={item[keyProp]}\n              item={item}\n              onEdit={listeners.edit?.bind(item)}\n              onRemove={listeners.remove?.bind(item)}\n            />\n          )\n      )}\n    </>\n  );\n}\n"],"mappings":"8OAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,C,6IAEA,cAAe,SAASC,cAAT,MAUZ,4BATDC,YASC,CATDA,YASC,4BATc,EASd,8CARDC,gBAQC,CARDA,gBAQC,gCARkB,CACjBC,GAAG,CAAE,IADY,CAEjBC,MAAM,CAAE,IAFS,CAGjBC,IAAI,CAAE,IAHW,CAQlB,uBAHDC,QAGC,MAHDA,QAGC,CAFDC,OAEC,MAFDA,OAEC,mBADDC,OACC,CADDA,OACC,uBADS,IACT,cACD,cAA0BT,QAAQ,CAACE,YAAD,CAAlC,wCAAOQ,KAAP,eAAcC,QAAd,eACA,GAAMC,UAAS,CAAG,EAAlB,CACA,GAAIT,gBAAgB,CAACC,GAArB,CAA0B,CACxBQ,SAAS,CAACR,GAAV,CAAgB,SAAUS,OAAV,CAAmB,CACjCF,QAAQ,8BAAKD,KAAL,GAAYG,OAAZ,GAAR,CACD,CAFD,CAGD,CACD,GAAIV,gBAAgB,CAACE,MAArB,CAA6B,CAC3BO,SAAS,CAACP,MAAV,CAAmB,UAAY,gBAC7BM,QAAQ,CAACD,KAAK,CAACI,MAAN,CAAa,SAACC,IAAD,QAAUA,KAAI,CAACN,OAAD,CAAJ,GAAkB,KAAI,CAACA,OAAD,CAAhC,EAAb,CAAD,CAAR,CACD,CAFD,CAGD,CAED,GAAIN,gBAAgB,CAACG,IAArB,CAA2B,CACzBM,SAAS,CAACN,IAAV,CAAiB,SAAUU,UAAV,CAAsB,CACrCL,QAAQ,CACND,KAAK,CAACO,GAAN,CAAU,SAACF,IAAD,CAAU,CAClB,GAAIA,IAAI,CAACN,OAAD,CAAJ,GAAkBO,UAAU,CAACP,OAAD,CAAhC,CAA2C,CACzC,MAAOO,WAAP,CACD,CACD,MAAOD,KAAP,CACD,CALD,CADM,CAAR,CAQD,CATD,CAUD,CACDhB,SAAS,CAAC,UAAM,CACdY,QAAQ,CAACT,YAAD,CAAR,CACD,CAFQ,CAEN,CAACA,YAAD,CAFM,CAAT,CAIA,mBACE,2BACGC,gBAAgB,CAACC,GAAjB,eAAwB,KAAC,OAAD,EAAS,QAAQ,CAAEQ,SAAS,CAACR,GAA7B,EAD3B,CAEGM,KAAK,CAACO,GAAN,CACC,SAACF,IAAD,8CACEG,QAAO,CAACC,GAAR,CAAYJ,IAAZ,CAAkBA,IAAI,CAACN,OAAD,CAAtB,gBACE,KAAC,QAAD,EAEE,IAAI,CAAEM,IAFR,CAGE,MAAM,kBAAEH,SAAS,CAACN,IAAZ,0CAAE,gBAAgBc,IAAhB,CAAqBL,IAArB,CAHV,CAIE,QAAQ,oBAAEH,SAAS,CAACP,MAAZ,4CAAE,kBAAkBe,IAAlB,CAAuBL,IAAvB,CAJZ,EACOA,IAAI,CAACN,OAAD,CADX,CAFJ,EADD,CAFH,GADF,CAgBD"},"metadata":{},"sourceType":"module"}