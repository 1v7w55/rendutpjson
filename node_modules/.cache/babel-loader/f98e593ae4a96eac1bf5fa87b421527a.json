{"ast":null,"code":"var _jsxFileName = \"/home/vr55/Documents/rendutp3/src/components/ListContainer.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ListContainer(_ref) {\n  _s();\n\n  let {\n    initialItems = [],\n    availableActions = {\n      add: true,\n      remove: true,\n      edit: true\n    },\n    ListItem,\n    AddForm,\n    keyProp = \"id\"\n  } = _ref;\n  const [items, setItems] = useState(initialItems);\n  const listeners = {};\n\n  if (availableActions.add) {\n    listeners.add = function (newItem) {\n      setItems([...items, newItem]);\n    };\n  }\n\n  if (availableActions.remove) {\n    listeners.remove = function () {\n      setItems(items.filter(item => item[keyProp] !== this[keyProp]));\n    };\n  }\n\n  if (availableActions.edit) {\n    listeners.edit = function (editedItem) {\n      setItems(items.map(item => {\n        if (item[keyProp] === editedItem[keyProp]) {\n          return editedItem;\n        }\n\n        return item;\n      }));\n    };\n  }\n\n  useEffect(() => {\n    setItems(initialItems);\n  }, [initialItems]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [availableActions.add && /*#__PURE__*/_jsxDEV(AddForm, {\n      onSubmit: listeners.add\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 32\n    }, this), items.map(item => {\n      var _listeners$edit, _listeners$remove;\n\n      return console.log(item, item[keyProp]) || /*#__PURE__*/_jsxDEV(ListItem, {\n        item: item,\n        onEdit: (_listeners$edit = listeners.edit) === null || _listeners$edit === void 0 ? void 0 : _listeners$edit.bind(item),\n        onRemove: (_listeners$remove = listeners.remove) === null || _listeners$remove === void 0 ? void 0 : _listeners$remove.bind(item)\n      }, item[keyProp], false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this);\n    })]\n  }, void 0, true);\n}\n\n_s(ListContainer, \"0D3tuWdBHuNzR3Yhy0VJ1DVdfE8=\");\n\n_c = ListContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListContainer\");","map":{"version":3,"names":["useEffect","useState","ListContainer","initialItems","availableActions","add","remove","edit","ListItem","AddForm","keyProp","items","setItems","listeners","newItem","filter","item","editedItem","map","console","log","bind"],"sources":["/home/vr55/Documents/rendutp3/src/components/ListContainer.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\nexport default function ListContainer({\n  initialItems = [],\n  availableActions = {\n    add: true,\n    remove: true,\n    edit: true,\n  },\n  ListItem,\n  AddForm,\n  keyProp = \"id\",\n}) {\n  const [items, setItems] = useState(initialItems);\n  const listeners = {};\n  if (availableActions.add) {\n    listeners.add = function (newItem) {\n      setItems([...items, newItem]);\n    };\n  }\n  if (availableActions.remove) {\n    listeners.remove = function () {\n      setItems(items.filter((item) => item[keyProp] !== this[keyProp]));\n    };\n  }\n\n  if (availableActions.edit) {\n    listeners.edit = function (editedItem) {\n      setItems(\n        items.map((item) => {\n          if (item[keyProp] === editedItem[keyProp]) {\n            return editedItem;\n          }\n          return item;\n        })\n      );\n    };\n  }\n  useEffect(() => {\n    setItems(initialItems);\n  }, [initialItems]);\n\n  return (\n    <>\n      {availableActions.add && <AddForm onSubmit={listeners.add} />}\n      {items.map(\n        (item) =>\n          console.log(item, item[keyProp]) || (\n            <ListItem\n              key={item[keyProp]}\n              item={item}\n              onEdit={listeners.edit?.bind(item)}\n              onRemove={listeners.remove?.bind(item)}\n            />\n          )\n      )}\n    </>\n  );\n}\n"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;;;AAEA,eAAe,SAASC,aAAT,OAUZ;EAAA;;EAAA,IAVmC;IACpCC,YAAY,GAAG,EADqB;IAEpCC,gBAAgB,GAAG;MACjBC,GAAG,EAAE,IADY;MAEjBC,MAAM,EAAE,IAFS;MAGjBC,IAAI,EAAE;IAHW,CAFiB;IAOpCC,QAPoC;IAQpCC,OARoC;IASpCC,OAAO,GAAG;EAT0B,CAUnC;EACD,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAACE,YAAD,CAAlC;EACA,MAAMU,SAAS,GAAG,EAAlB;;EACA,IAAIT,gBAAgB,CAACC,GAArB,EAA0B;IACxBQ,SAAS,CAACR,GAAV,GAAgB,UAAUS,OAAV,EAAmB;MACjCF,QAAQ,CAAC,CAAC,GAAGD,KAAJ,EAAWG,OAAX,CAAD,CAAR;IACD,CAFD;EAGD;;EACD,IAAIV,gBAAgB,CAACE,MAArB,EAA6B;IAC3BO,SAAS,CAACP,MAAV,GAAmB,YAAY;MAC7BM,QAAQ,CAACD,KAAK,CAACI,MAAN,CAAcC,IAAD,IAAUA,IAAI,CAACN,OAAD,CAAJ,KAAkB,KAAKA,OAAL,CAAzC,CAAD,CAAR;IACD,CAFD;EAGD;;EAED,IAAIN,gBAAgB,CAACG,IAArB,EAA2B;IACzBM,SAAS,CAACN,IAAV,GAAiB,UAAUU,UAAV,EAAsB;MACrCL,QAAQ,CACND,KAAK,CAACO,GAAN,CAAWF,IAAD,IAAU;QAClB,IAAIA,IAAI,CAACN,OAAD,CAAJ,KAAkBO,UAAU,CAACP,OAAD,CAAhC,EAA2C;UACzC,OAAOO,UAAP;QACD;;QACD,OAAOD,IAAP;MACD,CALD,CADM,CAAR;IAQD,CATD;EAUD;;EACDhB,SAAS,CAAC,MAAM;IACdY,QAAQ,CAACT,YAAD,CAAR;EACD,CAFQ,EAEN,CAACA,YAAD,CAFM,CAAT;EAIA,oBACE;IAAA,WACGC,gBAAgB,CAACC,GAAjB,iBAAwB,QAAC,OAAD;MAAS,QAAQ,EAAEQ,SAAS,CAACR;IAA7B;MAAA;MAAA;MAAA;IAAA,QAD3B,EAEGM,KAAK,CAACO,GAAN,CACEF,IAAD;MAAA;;MAAA,OACEG,OAAO,CAACC,GAAR,CAAYJ,IAAZ,EAAkBA,IAAI,CAACN,OAAD,CAAtB,kBACE,QAAC,QAAD;QAEE,IAAI,EAAEM,IAFR;QAGE,MAAM,qBAAEH,SAAS,CAACN,IAAZ,oDAAE,gBAAgBc,IAAhB,CAAqBL,IAArB,CAHV;QAIE,QAAQ,uBAAEH,SAAS,CAACP,MAAZ,sDAAE,kBAAkBe,IAAlB,CAAuBL,IAAvB;MAJZ,GACOA,IAAI,CAACN,OAAD,CADX;QAAA;QAAA;QAAA;MAAA,QAFJ;IAAA,CADD,CAFH;EAAA,gBADF;AAgBD;;GAxDuBR,a;;KAAAA,a"},"metadata":{},"sourceType":"module"}